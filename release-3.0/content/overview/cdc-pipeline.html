

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>CDC Streaming ELT Framework &mdash; CDC Connectors for Apache Flink®  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Getting Started" href="../quickstart/index.html" />
    <link rel="prev" title="CDC Connectors for Apache Flink" href="cdc-connectors.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> CDC Connectors for Apache Flink®
          

          
          </a>

          
            
            
              <div class="version">
                release-3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Overview</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cdc-connectors.html">CDC Connectors for Apache Flink</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">CDC Streaming ELT Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-is-cdc-streaming-elt-framework">What is CDC Streaming ELT Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-can-cdc-streaming-elt-framework-do">What can CDC Streaming ELT Framework do?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#core-concepts">Core Concepts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#table-id">Table ID</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-source">Data Source</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-sink">Data Sink</a></li>
<li class="toctree-l4"><a class="reference internal" href="#route">Route</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-pipeline">Data Pipeline</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/index.html">快速上手</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connectors/index.html">Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipelines/index.html">Pipeline Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../formats/index.html">Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloads.html">Downloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../githublink.html"><a class="github-button" href="https://github.com/ververica/flink-cdc-connectors" data-color-scheme="no-preference: dark_high_contrast; light: dark_high_contrast; dark: dark_high_contrast;" data-size="large" data-show-count="true" aria-label="Star ververica/flink-cdc-connectors on GitHub">Star</a></a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">CDC Connectors for Apache Flink®</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          <!--
 ~ Copyright 2023 Ververica Inc.
 ~
 ~ Licensed under the Apache License, Version 2.0 (the "License");
 ~ you may not use this file except in compliance with the License.
 ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
-->

<!-- Extend the RTD template to support user defined "Edit on Github" URL -->

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Overview</a> &raquo;</li>
        
      <li>CDC Streaming ELT Framework</li>
    
    
            <li class="wy-breadcrumbs-aside">
                
                    
                        <a href="http://github.com/ververica/flink-cdc-connectors/blob/release-3.0/docs/content/overview/cdc-pipeline.md" class="fa fa-github"> Edit on GitHub</a>
                    
                
            </li>
        
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section class="tex2jax_ignore mathjax_ignore" id="cdc-streaming-elt-framework">
<h1>CDC Streaming ELT Framework<a class="headerlink" href="#cdc-streaming-elt-framework" title="Permalink to this headline">¶</a></h1>
<section id="what-is-cdc-streaming-elt-framework">
<h2>What is CDC Streaming ELT Framework<a class="headerlink" href="#what-is-cdc-streaming-elt-framework" title="Permalink to this headline">¶</a></h2>
<p>CDC Streaming ELT Framework is a stream data integration framework that aims to provide users with a more robust API. It allows users to configure their data synchronization logic through customized Flink operators and job submission tools. The framework prioritizes optimizing the task submission process and offers enhanced functionalities such as whole database synchronization, sharding, and schema change synchronization.</p>
</section>
<section id="what-can-cdc-streaming-elt-framework-do">
<h2>What can CDC Streaming ELT Framework do?<a class="headerlink" href="#what-can-cdc-streaming-elt-framework-do" title="Permalink to this headline">¶</a></h2>
<p><img alt="CDC Architecture" src="../../_images/architecture.png" /></p>
<ul class="simple">
<li><p>✅ End-to-end data integration framework</p></li>
<li><p>✅ API for data integration users to build jobs easily</p></li>
<li><p>✅ Multi-table support in Source / Sink</p></li>
<li><p>✅ Synchronization of entire databases</p></li>
<li><p>✅ Schema evolution capability</p></li>
</ul>
</section>
<section id="core-concepts">
<h2>Core Concepts<a class="headerlink" href="#core-concepts" title="Permalink to this headline">¶</a></h2>
<p><img alt="CDC Design" src="../../_images/design.png" /></p>
<p>The data types flowing in the Flink CDC 3.0 framework are referred to as <strong>Event</strong>, which represent the change events generated by external systems.
Each event is marked with a <strong>Table ID</strong> for which the change occurred. Events are categorized into <code class="docutils literal notranslate"><span class="pre">SchemaChangeEvent</span></code> and <code class="docutils literal notranslate"><span class="pre">DataChangeEvent</span></code>, representing changes in table structure and data respectively.</p>
<p><strong>Data Source</strong> Connector captures the changes in external systems and converts them into events as the output of the synchronization task. It also provides a <code class="docutils literal notranslate"><span class="pre">MetadataAccessor</span></code> for the framework to read the metadata of the external systems.</p>
<p><strong>Data Sink</strong> connector receives the change events from <strong>Data Source</strong> and applies them to the external systems. Additionally, <code class="docutils literal notranslate"><span class="pre">MetadataApplier</span></code> is used to apply metadata changes from the source system to the target system.</p>
<p>Since events flow from the upstream to the downstream in a pipeline manner, the data synchronization task is referred as a <strong>Data Pipeline</strong>. A <strong>Data Pipeline</strong> consists of a <strong>Data Source</strong>, <strong>Route</strong>, <strong>Transform</strong> and <strong>Data Sink</strong>. The transform can add extra content to events, and the router can remap the <code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">ID</span></code>s corresponding to events.</p>
<p>Now let’s introduce more details about the concepts you need to know when using the CDC Streaming ELT Framework.</p>
<section id="table-id">
<h3>Table ID<a class="headerlink" href="#table-id" title="Permalink to this headline">¶</a></h3>
<p>When connecting to external systems, it is necessary to establish a mapping relationship with the storage objects of the external system. This is what <code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">Id</span></code> refers to.</p>
<p>To be compatible with most external systems, the <code class="docutils literal notranslate"><span class="pre">Table</span> <span class="pre">ID</span></code> is represented by a 3-tuple : (namespace, schemaName, table). Connectors need to establish the mapping between Table ID and storage objects in external systems.
For instance, a table in MySQL/Doris is mapped to (null, database, table) and a topic in a message queue system such as Kafka is mapped to (null, null, topic).</p>
</section>
<section id="data-source">
<h3>Data Source<a class="headerlink" href="#data-source" title="Permalink to this headline">¶</a></h3>
<p>Data Source is used to access metadata and read the changed data from external systems.
A Data Source can read data from multiple tables simultaneously.</p>
<p>To describe a data source, the follows are required:</p>
<ul class="simple">
<li><p>Type: The type of the source, such as MySQL, Postgres.</p></li>
<li><p>Name: The name of the source, which is user-defined (optional, with a default value provided).</p></li>
<li><p>Other custom configurations for the source.</p></li>
</ul>
<p>For example, we could use <code class="docutils literal notranslate"><span class="pre">yaml</span></code> files to define a mysql source</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">source</span><span class="p">:</span>
  <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mysql</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mysql-source</span>   <span class="c1">#optional，description information</span>
  <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">localhost</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3306</span>
  <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
  <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pass</span>
  <span class="nt">tables</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">adb.*, bdb.user_table_[0-9]+, [app|web]_order_\.*</span>
</pre></div>
</div>
</section>
<section id="data-sink">
<h3>Data Sink<a class="headerlink" href="#data-sink" title="Permalink to this headline">¶</a></h3>
<p>The Data Sink is used to apply schema changes and write change data to external systems. A Data Sink can write to multiple tables simultaneously.</p>
<p>To describe a data sink, the follows are required:</p>
<ul class="simple">
<li><p>Type: The type of the sink, such as MySQL or PostgreSQL.</p></li>
<li><p>Name: The name of the sink, which is user-defined (optional, with a default value provided).</p></li>
<li><p>Other custom configurations for the sink.</p></li>
</ul>
<p>For example, we can use this <code class="docutils literal notranslate"><span class="pre">yaml</span></code> file to define a kafka sink:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span>sink:
  type: kafka
  name: mysink-queue           	# Optional parameter for description purpose
  bootstrap-servers: localhost:9092
  auto-create-table: true      	# Optional parameter for advanced functionalities
</pre></div>
</div>
</section>
<section id="route">
<h3>Route<a class="headerlink" href="#route" title="Permalink to this headline">¶</a></h3>
<p>Route specifies the target table ID of each event.
The most typical scenario is the merge of sub-databases and sub-tables, routing multiple upstream source tables to the same sink table</p>
<p>To describe a route, the follows are required:</p>
<ul class="simple">
<li><p>source-table: Source table id, supports regular expressions</p></li>
<li><p>sink-table: Sink table id, supports regular expressions</p></li>
<li><p>escription: Routing rule description(optional, default value provided)</p></li>
</ul>
<p>For example, if synchronize the table ‘web_order’ in the database ‘mydb’ to a Kafka topic ‘ods_web_order’, we can use this yaml file to define this route：</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">route</span><span class="p">:</span>
  <span class="nt">source-table</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mydb.default.web_order</span>
  <span class="nt">sink-table</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ods_web_order</span>
  <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sync table to one destination table with given prefix ods_</span>
</pre></div>
</div>
</section>
<section id="data-pipeline">
<h3>Data Pipeline<a class="headerlink" href="#data-pipeline" title="Permalink to this headline">¶</a></h3>
<p>Since events flow from the upstream to the downstream in a pipeline manner, the data synchronization task is also referred as a Data Pipeline.</p>
<p>To describe a Data Pipeline, the follows are required:</p>
<ul class="simple">
<li><p>Name: The name of the pipeline, which will be submitted to the Flink cluster as the job name.</p></li>
<li><p>Other advanced capabilities such as automatic table creation, schema evolution, etc., will be implemented.</p></li>
</ul>
<p>For example, we can use this yaml file to define a pipeline:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pipeline</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mysql-to-kafka-pipeline</span>
  <span class="nt">parallelism</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../quickstart/index.html" class="btn btn-neutral float-right" title="Getting Started" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="cdc-connectors.html" class="btn btn-neutral float-left" title="CDC Connectors for Apache Flink" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2024, Ververica GmbH; Apache Flink, Flink®, Apache®, the squirrel logo, and the Apache feather logo are either registered trademarks or trademarks of The Apache Software Foundation.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  <!--
 ~ Copyright 2023 Ververica Inc.
 ~
 ~ Licensed under the Apache License, Version 2.0 (the "License");
 ~ you may not use this file except in compliance with the License.
 ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
-->



<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      version: release-3.0
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        
        <dl>
            <dt>Versions</dt>
            
            
            <dd><a href="/flink-cdc-connectors/master/">master</a></dd>
            
            
            
            <dd><a href="/flink-cdc-connectors/release-1.4/">release-1.4</a></dd>
            
            
            
            <dd><a href="/flink-cdc-connectors/release-2.0/">release-2.0</a></dd>
            
            
            
            <dd><a href="/flink-cdc-connectors/release-2.1/">release-2.1</a></dd>
            
            
            
            <dd><a href="/flink-cdc-connectors/release-2.2/">release-2.2</a></dd>
            
            
            
            <dd><a href="/flink-cdc-connectors/release-2.3/">release-2.3</a></dd>
            
            
            
            <dd><a href="/flink-cdc-connectors/release-2.4/">release-2.4</a></dd>
            
            
             <strong> 
            <dd><a href="/flink-cdc-connectors/release-3.0/">release-3.0</a></dd>
             </strong> 
            
        </dl>
        
        
        <hr/>
        Free document hosting provided by <a href="http://www.readthedocs.org">Read the
        Docs</a>.

    </div>
</div>

<!-- Place this tag in your head or just before your close body tag. -->
<script async defer
        src="https://ververica.github.io/flink-cdc-connectors/release-3.0/_static/button.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>